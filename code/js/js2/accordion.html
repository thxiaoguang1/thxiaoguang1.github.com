<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>手风琴</title>
	<style type="text/css">
	*{padding: 0;margin: 0;list-style: none;}
	body,html{background:#69bf40;}
	li{width: 600px;height: 400px;float: left;position: absolute;}
	ul{height: 400px;width:600px;overflow: hidden;position: relative;margin:100px auto;}
	
	.mask{
            width: 100%;
            height: 100%;
            position: absolute;
            left: 0;
            top: 0;
            background: #000000;
            z-index: 989;
            opacity: 0.7;
        }

	</style>
	<script type="text/javascript" src="move4.js"></script>
	<script type="text/javascript">
	window.onload=function(){
	var oBox=document.getElementById('box');
	var oUl= document.getElementsByTagName('ul')[0];
	var aLi=document.getElementsByTagName('li');
	var aDiv=document.getElementsByTagName('p');
	var arr=[];

	for(var i=0;i<aLi.length;i++){
		arr.push({left:aLi[i].offsetLeft});
	}
	for(var i=0;i<aLi.length;i++){
		aLi[i].style.position=' absolute';
		aLi[i].style.left=arr[i].left+'px';
		
	}

	var w=50;
	for(var i=0;i<aLi.length;i++){
		aLi[i].style.left=oUl.offsetWidth-w*(aLi.length-i)+'px';
		aLi[0].style.left=0;

	}

		for(var i=0;i<aLi.length;i++){
			aLi[i].index=i;
			aLi[i].onmouseover=function(){
				var oDiv=this.getElementsByTagName('p')[0];
				for(var i=0;i<aLi.length;i++){
				if(i<=this.index){
					
					move(aLi[i],{left:i*w})
				}else{
					
					move(aLi[i],{left:oUl.offsetWidth-w*(aLi.length-i)});
				}

			}
			 for(var i=0; i<aDiv.length; i++){
	                    aDiv[i].style.opacity='0.7';
	         }
	              oDiv.style.opacity=0;
		}
	}

}

	</script>
</head>
<body>
	<div id="box">
		<ul>
			<li class="li1" style="z-index: 989;">
			<img src="0.jpg" alt="">
				<p class="mask" style="opacity: 0;"></p>

			</li>
			
			<li class="li2" style="z-index: 990;">
			<img src="1.jpg" alt="">
			<p class="mask" ></p></li>
			<li class="li3" style="z-index: 991;">
				<img src="2.jpg" alt="">
			<p class="mask" ></p></li>
			<li class="li4" style="z-index: 992;">
			<img src="3.jpg" alt="">
			<p class="mask" ></p></li>
			<li class="li5" style="z-index: 993;">
			<img src="4.jpg" alt="">
			<p class="mask" ></p></li>
			<li class="li6" style="z-index: 994;">
			<img src="5.jpg" alt="">
			<p class="mask" ></p></li>
			<li class="li7" style="z-index: 995;">
			<img src="6.jpg" alt="">
			<p class="mask" ></p></li>
		</ul>
	</div>
</body>
</html>