<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
	*{padding:0;margin: 0;}
	body{background: #000;}
	#box{
			margin:20px auto;
			background:url(0.jpg) no-repeat 0 0;
			width:500px;
			height:400px;
			position: relative;

	}
	input{color: #fff;width:100px;height:60px;font-size:25px;text-align: center;line-height: 60px; margin:20px; }
	span{position: absolute;}
	img{width:500px;height:400px;}
	</style>
	<script type="text/javascript" src="move4.js"></script>
	<script type="text/javascript">
		window.onload=function(){
			var oBox=document.getElementById('box');
			var oBtn=document.getElementById('btn');
			
			var H=40;
			var L=1;
			for(var h=0;h<H;h++){
				for(var l=0;l<L;l++){
					var oSpan=document.createElement('span');
					oSpan.style.width=oBox.offsetWidth/L+'px';
					oSpan.style.height=oBox.offsetHeight/H+'px';
					oBox.appendChild(oSpan);
					oSpan.style.left=l*oSpan.offsetWidth+'px';
					oSpan.style.top=h*oSpan.offsetHeight+'px';
					oSpan.style.backgroundPosition=''+-l*oSpan.offsetWidth+'px'+' '+-h*oSpan.offsetHeight+'px';
					var timer=null;
					var lock=false;
				}
			}
			var aSpan=document.getElementsByTagName('span');
			var timer=null;
			var iNow=0;
			var lock=false;
		oBtn.onclick=function(){

			if(lock)return;
			lock=true;
			var n=0;

			
			 iNow++;

			if(iNow%7==0){
				oBox.style.backgroundImage='url(6.jpg)'
			}
			else{
				//console.log(iNow%7-1)
				oBox.style.backgroundImage='url('+(iNow%7-1)+'.jpg)';
				
			}
			timer=setInterval(function(){
				aSpan[n].style.backgroundImage='url('+iNow%7+'.jpg)';
				aSpan[n].style.opacity=0;
				move(aSpan[n],{opacity:1});
				n++;
				if(n==aSpan.length)
				{
					clearInterval(timer);
					lock=false;
				}
				


			},100)
		}

		}

			
		
		
	</script>
</head>
<body>
	<input type="button" value="下一页" id="btn"/>
	<div id="box"></div>
</body>
</html>